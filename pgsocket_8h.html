<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libusual: usual/pgsocket.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libusual
   &#160;<span id="projectnumber">0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">usual/pgsocket.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Async Postgres connection framework.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7">PgEvent</a> { <br/>
&#160;&#160;<a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7a8977ad9e854afcc735738fe134e21712">PGS_CONNECT_OK</a>, 
<a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7a8973e9e6266dc4c41eed87115b6f7707">PGS_CONNECT_FAILED</a>, 
<a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7ae40dd5a18eb50097e00ff78a5743f325">PGS_RESULT_OK</a>, 
<a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7ac5b59488b011c3bd9d7d1114deb04bee">PGS_RESULT_BAD</a>, 
<br/>
&#160;&#160;<a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7a98767e750997da53d2c189890c391afe">PGS_TIMEOUT</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Event types reported to user handler function.  <a href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct PgSocket *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a879fc116bc3386363916be760b226933">pgs_create</a> (const char *connstr, pgs_handler_f fn, void *arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create PgSocket.  <a href="#a879fc116bc3386363916be760b226933"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a904e95e692d10364f0c386ade50b5b5f">pgs_free</a> (struct PgSocket *db)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release PgSocket.  <a href="#a904e95e692d10364f0c386ade50b5b5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#ab98ff56b317394bac31cfb4a8a55bb91">pgs_set_event_base</a> (struct PgSocket *pgs, struct event_base *base)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the event base for PgSocket.  <a href="#ab98ff56b317394bac31cfb4a8a55bb91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a94f65a8bf08cc999ebc7f73f658af473">pgs_set_lifetime</a> (struct PgSocket *pgs, double lifetime)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set connection lifetime (in seconds)  <a href="#a94f65a8bf08cc999ebc7f73f658af473"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#accc4167f3a386ff0f1dbce37a714acf2">pgs_connect</a> (struct PgSocket *db)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Launch connection.  <a href="#accc4167f3a386ff0f1dbce37a714acf2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a9e3b093f6f345090505acb1e6d95c184">pgs_disconnect</a> (struct PgSocket *db)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop connection.  <a href="#a9e3b093f6f345090505acb1e6d95c184"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#ae901f20a1a33c1a40bdbd6c25654a3db">pgs_send_query_simple</a> (struct PgSocket *db, const char *query)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send simple query.  <a href="#ae901f20a1a33c1a40bdbd6c25654a3db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#aa8c34e3fa8d731be0c6996e053509b8f">pgs_send_query_params</a> (struct PgSocket *db, const char *query, int nargs,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send extended query, args from varargs.  <a href="#aa8c34e3fa8d731be0c6996e053509b8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a35b1425087a87845ad78e4a27258eb11">pgs_send_query_params_list</a> (struct PgSocket *db, const char *query, int nargs, const char *argv[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send extended query, args from list.  <a href="#a35b1425087a87845ad78e4a27258eb11"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a73057e1b13b699b74a519ff967232aef">pgs_sleep</a> (struct PgSocket *db, double timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignore the connection for specified time.  <a href="#a73057e1b13b699b74a519ff967232aef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a1fe21eb35bbfcf4dd314d4893052a46e">pgs_reconnect</a> (struct PgSocket *db, double timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect, sleep, reconnect.  <a href="#a1fe21eb35bbfcf4dd314d4893052a46e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#aacc017e3cfd954c06dbcef592a3f8648">pgs_connection_valid</a> (struct PgSocket *db)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Does PgSocket have established connection.  <a href="#aacc017e3cfd954c06dbcef592a3f8648"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PGconn *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pgsocket_8h.html#a3fcf47fd99575f780a4bffda16c8e80b">pgs_get_connection</a> (struct PgSocket *db)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return underlying Postgres connection.  <a href="#a3fcf47fd99575f780a4bffda16c8e80b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Async Postgres connection framework. </p>
</div><hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a135b36b9bf63b03d383a91b5584515c7"></a><!-- doxytag: member="pgsocket.h::PgEvent" ref="a135b36b9bf63b03d383a91b5584515c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="pgsocket_8h.html#a135b36b9bf63b03d383a91b5584515c7">PgEvent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Event types reported to user handler function. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a135b36b9bf63b03d383a91b5584515c7a8977ad9e854afcc735738fe134e21712"></a><!-- doxytag: member="PGS_CONNECT_OK" ref="a135b36b9bf63b03d383a91b5584515c7a8977ad9e854afcc735738fe134e21712" args="" -->PGS_CONNECT_OK</em>&nbsp;</td><td>
<p>Connection establishing finished. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a135b36b9bf63b03d383a91b5584515c7a8973e9e6266dc4c41eed87115b6f7707"></a><!-- doxytag: member="PGS_CONNECT_FAILED" ref="a135b36b9bf63b03d383a91b5584515c7a8973e9e6266dc4c41eed87115b6f7707" args="" -->PGS_CONNECT_FAILED</em>&nbsp;</td><td>
<p>Connection establishing failed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a135b36b9bf63b03d383a91b5584515c7ae40dd5a18eb50097e00ff78a5743f325"></a><!-- doxytag: member="PGS_RESULT_OK" ref="a135b36b9bf63b03d383a91b5584515c7ae40dd5a18eb50097e00ff78a5743f325" args="" -->PGS_RESULT_OK</em>&nbsp;</td><td>
<p>Got result from query either resultset or DB error. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a135b36b9bf63b03d383a91b5584515c7ac5b59488b011c3bd9d7d1114deb04bee"></a><!-- doxytag: member="PGS_RESULT_BAD" ref="a135b36b9bf63b03d383a91b5584515c7ac5b59488b011c3bd9d7d1114deb04bee" args="" -->PGS_RESULT_BAD</em>&nbsp;</td><td>
<p>Query execution failed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a135b36b9bf63b03d383a91b5584515c7a98767e750997da53d2c189890c391afe"></a><!-- doxytag: member="PGS_TIMEOUT" ref="a135b36b9bf63b03d383a91b5584515c7a98767e750997da53d2c189890c391afe" args="" -->PGS_TIMEOUT</em>&nbsp;</td><td>
<p>Wakeup from timed sleep. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a879fc116bc3386363916be760b226933"></a><!-- doxytag: member="pgsocket.h::pgs_create" ref="a879fc116bc3386363916be760b226933" args="(const char *connstr, pgs_handler_f fn, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct PgSocket* <a class="el" href="pgsocket_8h.html#a879fc116bc3386363916be760b226933">pgs_create</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>connstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgs_handler_f&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create PgSocket. </p>
<p>It does not launch connection yet, use <a class="el" href="pgsocket_8h.html#accc4167f3a386ff0f1dbce37a714acf2">pgs_connect()</a> for that.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connstr</td><td>libpq connect string </td></tr>
    <tr><td class="paramname">fn</td><td>callback function for event handling </td></tr>
    <tr><td class="paramname">arg</td><td>extra context for callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Initialized PgSocket structure </dd></dl>

</div>
</div>
<a class="anchor" id="a904e95e692d10364f0c386ade50b5b5f"></a><!-- doxytag: member="pgsocket.h::pgs_free" ref="a904e95e692d10364f0c386ade50b5b5f" args="(struct PgSocket *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#a904e95e692d10364f0c386ade50b5b5f">pgs_free</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release PgSocket. </p>

</div>
</div>
<a class="anchor" id="ab98ff56b317394bac31cfb4a8a55bb91"></a><!-- doxytag: member="pgsocket.h::pgs_set_event_base" ref="ab98ff56b317394bac31cfb4a8a55bb91" args="(struct PgSocket *pgs, struct event_base *base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#ab98ff56b317394bac31cfb4a8a55bb91">pgs_set_event_base</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>pgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_base *&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the event base for PgSocket. </p>

</div>
</div>
<a class="anchor" id="a94f65a8bf08cc999ebc7f73f658af473"></a><!-- doxytag: member="pgsocket.h::pgs_set_lifetime" ref="a94f65a8bf08cc999ebc7f73f658af473" args="(struct PgSocket *pgs, double lifetime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#a94f65a8bf08cc999ebc7f73f658af473">pgs_set_lifetime</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>pgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lifetime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set connection lifetime (in seconds) </p>

</div>
</div>
<a class="anchor" id="accc4167f3a386ff0f1dbce37a714acf2"></a><!-- doxytag: member="pgsocket.h::pgs_connect" ref="accc4167f3a386ff0f1dbce37a714acf2" args="(struct PgSocket *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#accc4167f3a386ff0f1dbce37a714acf2">pgs_connect</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Launch connection. </p>

</div>
</div>
<a class="anchor" id="a9e3b093f6f345090505acb1e6d95c184"></a><!-- doxytag: member="pgsocket.h::pgs_disconnect" ref="a9e3b093f6f345090505acb1e6d95c184" args="(struct PgSocket *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#a9e3b093f6f345090505acb1e6d95c184">pgs_disconnect</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drop connection. </p>

</div>
</div>
<a class="anchor" id="ae901f20a1a33c1a40bdbd6c25654a3db"></a><!-- doxytag: member="pgsocket.h::pgs_send_query_simple" ref="ae901f20a1a33c1a40bdbd6c25654a3db" args="(struct PgSocket *db, const char *query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#ae901f20a1a33c1a40bdbd6c25654a3db">pgs_send_query_simple</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send simple query. </p>

</div>
</div>
<a class="anchor" id="aa8c34e3fa8d731be0c6996e053509b8f"></a><!-- doxytag: member="pgsocket.h::pgs_send_query_params" ref="aa8c34e3fa8d731be0c6996e053509b8f" args="(struct PgSocket *db, const char *query, int nargs,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#aa8c34e3fa8d731be0c6996e053509b8f">pgs_send_query_params</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nargs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send extended query, args from varargs. </p>

</div>
</div>
<a class="anchor" id="a35b1425087a87845ad78e4a27258eb11"></a><!-- doxytag: member="pgsocket.h::pgs_send_query_params_list" ref="a35b1425087a87845ad78e4a27258eb11" args="(struct PgSocket *db, const char *query, int nargs, const char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#a35b1425087a87845ad78e4a27258eb11">pgs_send_query_params_list</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nargs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send extended query, args from list. </p>

</div>
</div>
<a class="anchor" id="a73057e1b13b699b74a519ff967232aef"></a><!-- doxytag: member="pgsocket.h::pgs_sleep" ref="a73057e1b13b699b74a519ff967232aef" args="(struct PgSocket *db, double timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#a73057e1b13b699b74a519ff967232aef">pgs_sleep</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Ignore the connection for specified time. </p>

</div>
</div>
<a class="anchor" id="a1fe21eb35bbfcf4dd314d4893052a46e"></a><!-- doxytag: member="pgsocket.h::pgs_reconnect" ref="a1fe21eb35bbfcf4dd314d4893052a46e" args="(struct PgSocket *db, double timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="pgsocket_8h.html#a1fe21eb35bbfcf4dd314d4893052a46e">pgs_reconnect</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disconnect, sleep, reconnect. </p>

</div>
</div>
<a class="anchor" id="aacc017e3cfd954c06dbcef592a3f8648"></a><!-- doxytag: member="pgsocket.h::pgs_connection_valid" ref="aacc017e3cfd954c06dbcef592a3f8648" args="(struct PgSocket *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="pgsocket_8h.html#aacc017e3cfd954c06dbcef592a3f8648">pgs_connection_valid</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Does PgSocket have established connection. </p>

</div>
</div>
<a class="anchor" id="a3fcf47fd99575f780a4bffda16c8e80b"></a><!-- doxytag: member="pgsocket.h::pgs_get_connection" ref="a3fcf47fd99575f780a4bffda16c8e80b" args="(struct PgSocket *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PGconn* <a class="el" href="pgsocket_8h.html#a3fcf47fd99575f780a4bffda16c8e80b">pgs_get_connection</a> </td>
          <td>(</td>
          <td class="paramtype">struct PgSocket *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return underlying Postgres connection. </p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
