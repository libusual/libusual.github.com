<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libusual: usual/base.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>usual/base.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Basic C environment.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#a353187251a6359e206c4472fe66895ce">offsetof</a>(type, field)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">give offset of a field inside struct  <a href="#a353187251a6359e206c4472fe66895ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#a9811c6fb466ff1d04ff9052422edb9fe">container_of</a>(ptr, type, field)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">given pointer to field inside struct, return pointer to struct  <a href="#a9811c6fb466ff1d04ff9052422edb9fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#aca526298ed34ef6fe2b1b11a8280fdd6">alignof</a>(type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get alignment requirement for a type  <a href="#aca526298ed34ef6fe2b1b11a8280fdd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#a4306b5ba857463f869c01f067b0fadf1">CUSTOM_ALIGN</a>(x, a)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">power-of-2 alignment  <a href="#a4306b5ba857463f869c01f067b0fadf1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#abe7f8cd9a0ce69b71567a3870415be66">ALIGN</a>(x)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">preferred alignment  <a href="#abe7f8cd9a0ce69b71567a3870415be66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#a7ea70ab8dbf5bc5414d9e2fa42867e53">ARRAY_NELEM</a>(a)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of elements in array  <a href="#a7ea70ab8dbf5bc5414d9e2fa42867e53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#acdf2afba684c45e4dd5775b371a36412">Assert</a>(e)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">assert() that uses &lt;usual/logging&gt; module  <a href="#acdf2afba684c45e4dd5775b371a36412"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#affb9fc32698fab7f7b36e0cf8e64c83e">free</a>(x)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compat: make <a class="el" href="base_8h.html#affb9fc32698fab7f7b36e0cf8e64c83e" title="Compat: make free() accept const pointer.">free()</a> accept const pointer.  <a href="#affb9fc32698fab7f7b36e0cf8e64c83e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#a18d295a837ac71add5578860b55e5502">STR</a>(x)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">cpp expr -&gt; string  <a href="#a18d295a837ac71add5578860b55e5502"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Compiler attributes.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp036b959f27437420815565d8ce005995"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#aa1ed035ac46973db2babb746c8ebc06a">_PACKED</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable padding for structure.  <a href="#aa1ed035ac46973db2babb746c8ebc06a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85cd253c2de3e111bd2986b324488888"></a><!-- doxytag: member="base.h::_MUSTCHECK" ref="a85cd253c2de3e111bd2986b324488888" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_MUSTCHECK</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a598b2b5ba1091e85999734dd57735330"></a><!-- doxytag: member="base.h::_DEPRECATED" ref="a598b2b5ba1091e85999734dd57735330" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_DEPRECATED</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28b638bc7250e2a7bbebb642505da2fa"></a><!-- doxytag: member="base.h::_PRINTF" ref="a28b638bc7250e2a7bbebb642505da2fa" args="(x, y)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_PRINTF</b>(x, y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22fd9d63dbf9630853796b840c0331d7"></a><!-- doxytag: member="base.h::_MALLOC" ref="a22fd9d63dbf9630853796b840c0331d7" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_MALLOC</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44145f6f9805df57da735ea6ac0f1dbb"></a><!-- doxytag: member="base.h::_UNUSED" ref="a44145f6f9805df57da735ea6ac0f1dbb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_UNUSED</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a804b8d1e6a7a6d386242283146497cea"></a><!-- doxytag: member="base.h::_NOINLINE" ref="a804b8d1e6a7a6d386242283146497cea" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_NOINLINE</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ebbdde0cd7d0cda5162a45fa973d403"></a><!-- doxytag: member="base.h::_NORETURN" ref="a3ebbdde0cd7d0cda5162a45fa973d403" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_NORETURN</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6c45889010c1bd68631771b64f18101"></a><!-- doxytag: member="base.h::unlikely" ref="ac6c45889010c1bd68631771b64f18101" args="(x)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>unlikely</b>(x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a217a0bd562b98ae8c2ffce44935351e1"></a><!-- doxytag: member="base.h::likely" ref="a217a0bd562b98ae8c2ffce44935351e1" args="(x)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>likely</b>(x)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static _MUSTCHECK void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_8h.html#ac644b3fdd5b6d1254f7dbe6e2f12f99c">zmalloc</a> (size_t len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zeroing malloc.  <a href="#ac644b3fdd5b6d1254f7dbe6e2f12f99c"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Basic C environment. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a353187251a6359e206c4472fe66895ce"></a><!-- doxytag: member="base.h::offsetof" ref="a353187251a6359e206c4472fe66895ce" args="(type, field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define offsetof</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">field</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>give offset of a field inside struct </p>

</div>
</div>
<a class="anchor" id="a9811c6fb466ff1d04ff9052422edb9fe"></a><!-- doxytag: member="base.h::container_of" ref="a9811c6fb466ff1d04ff9052422edb9fe" args="(ptr, type, field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define container_of</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">field</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>given pointer to field inside struct, return pointer to struct </p>

<p>Referenced by <a class="el" href="hashtab-impl_8h.html#a73be4302ca9a85f10c80614553791ccb">hashtab_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="aca526298ed34ef6fe2b1b11a8280fdd6"></a><!-- doxytag: member="base.h::alignof" ref="aca526298ed34ef6fe2b1b11a8280fdd6" args="(type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define alignof</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">type</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>get alignment requirement for a type </p>

</div>
</div>
<a class="anchor" id="a4306b5ba857463f869c01f067b0fadf1"></a><!-- doxytag: member="base.h::CUSTOM_ALIGN" ref="a4306b5ba857463f869c01f067b0fadf1" args="(x, a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CUSTOM_ALIGN</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">a</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>power-of-2 alignment </p>

</div>
</div>
<a class="anchor" id="abe7f8cd9a0ce69b71567a3870415be66"></a><!-- doxytag: member="base.h::ALIGN" ref="abe7f8cd9a0ce69b71567a3870415be66" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALIGN</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>preferred alignment </p>

</div>
</div>
<a class="anchor" id="a7ea70ab8dbf5bc5414d9e2fa42867e53"></a><!-- doxytag: member="base.h::ARRAY_NELEM" ref="a7ea70ab8dbf5bc5414d9e2fa42867e53" args="(a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARRAY_NELEM</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">a</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of elements in array </p>

</div>
</div>
<a class="anchor" id="aa1ed035ac46973db2babb746c8ebc06a"></a><!-- doxytag: member="base.h::_PACKED" ref="aa1ed035ac46973db2babb746c8ebc06a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _PACKED</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable padding for structure. </p>

</div>
</div>
<a class="anchor" id="acdf2afba684c45e4dd5775b371a36412"></a><!-- doxytag: member="base.h::Assert" ref="acdf2afba684c45e4dd5775b371a36412" args="(e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Assert</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">e</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>assert() that uses &lt;usual/logging&gt; module </p>

</div>
</div>
<a class="anchor" id="affb9fc32698fab7f7b36e0cf8e64c83e"></a><!-- doxytag: member="base.h::free" ref="affb9fc32698fab7f7b36e0cf8e64c83e" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define free</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compat: make <a class="el" href="base_8h.html#affb9fc32698fab7f7b36e0cf8e64c83e" title="Compat: make free() accept const pointer.">free()</a> accept const pointer. </p>

<p>Referenced by <a class="el" href="mbuf_8h.html#a0c22adf08508c80676b5f52699d6ea9a">mbuf_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a18d295a837ac71add5578860b55e5502"></a><!-- doxytag: member="base.h::STR" ref="a18d295a837ac71add5578860b55e5502" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STR</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">x</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>cpp expr -&gt; string </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac644b3fdd5b6d1254f7dbe6e2f12f99c"></a><!-- doxytag: member="base.h::zmalloc" ref="ac644b3fdd5b6d1254f7dbe6e2f12f99c" args="(size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _MUSTCHECK void* zmalloc </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeroing malloc. </p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
